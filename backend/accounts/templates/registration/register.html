{% extends 'base.html' %}
{% load static %}

{% block title %}Registrar{% endblock %}

{% block content %}
<div class="col-md-6">
    <h4>Criar uma conta</h4>
    <form method="post" id="register-form">
        {% csrf_token %}
        <label for="id_role">Type of User:</label>
        <select name="role" id="id_role" class="form-control">
            <option value="">Select...</option>
            <option value="leader">Líder</option>
            <option value="collaborator">Colaborador</option>
        </select>

        <div id="common-fields">
            <label for="id_full_name">Full Name:</label>
            <input type="text" name="full_name" id="id_full_name" class="form-control" required>
            <label for="id_username">Username:</label>
            <input type="text" name="username" id="id_username" class="form-control" required>
            <label for="id_email">Email:</label>
            <input type="email" name="email" id="id_email" class="form-control" required>
            <label for="id_password1">Password:</label>
            <input type="password" name="password1" id="id_password1" class="form-control" required>
            <label for="id_password2">Confirm Password:</label>
            <input type="password" name="password2" id="id_password2" class="form-control" required>
        </div>

        <div id="leader-fields" style="display: none;">
            <h5>Leader Information</h5>
            <label for="id_empresa">Company:</label>
            <input type="text" name="empresa" id="id_empresa" class="form-control">
            <label for="id_anos_como_lider">Years as Leader:</label>
            <input type="number" name="anos_como_lider" id="id_anos_como_lider" class="form-control">
        </div>

        <div id="collaborator-fields" style="display: none;">
            <h5>Collaborator Information</h5>
            <label for="id_idade">Age:</label>
            <input type="number" name="idade" id="id_idade" class="form-control">
            <label for="id_hard_skils">Hard Skills:</label>
            <input type="text" name="hard_skils" id="id_hard_skils" class="form-control">
            <label for="id_soft_skils">Soft Skills:</label>
            <input type="text" name="soft_skils" id="id_soft_skils" class="form-control">
            <h5>Experiência em Scrum:</h5>
            <div>
                <input type="checkbox" name="ex_developer" id="id_ex_developer">
                <label for="id_ex_developer">Experiência como Developer</label>
            </div>
            <div>
                <input type="checkbox" name="ex_product_owner" id="id_ex_product_owner">
                <label for="id_ex_product_owner">Experiência como Product Owner</label>
            </div>
            <div>
                <input type="checkbox" name="ex_scrum_master" id="id_ex_scrum_master">
                <label for="id_ex_scrum_master">Experiência como Scrum Master</label>
            </div>
        </div>

        <button class="btn btn-warning mt-3" type="submit">Registrar</button>
    </form>
</div>

<script>
    document.getElementById('id_role').addEventListener('change', function() {
        const leaderFields = document.getElementById('leader-fields');
        const collaboratorFields = document.getElementById('collaborator-fields');
        const commonFields = document.getElementById('common-fields');

        if (this.value === 'leader') {
            leaderFields.style.display = 'block';
            collaboratorFields.style.display = 'none';
        } else if (this.value === 'collaborator') {
            leaderFields.style.display = 'none';
            collaboratorFields.style.display = 'block';
        } else {
            leaderFields.style.display = 'none';
            collaboratorFields.style.display = 'none';
        }
    });
</script>
{% endblock %}